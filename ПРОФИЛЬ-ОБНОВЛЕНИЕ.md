# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º

**–ü—Ä–æ–±–ª–µ–º–∞:**
–§–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è –Ω–∞ –±—ç–∫–µ–Ω–¥, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É 400:
```json
{
  "message": [
    "property phone should not exist",
    "birthDate must be a valid ISO 8601 date string",
    "gender must be one of the following values: male, female",
    "gender should not be empty"
  ],
  "error": "Bad Request",
  "statusCode": 400
}
```

**–†–µ—à–µ–Ω–∏–µ:**
–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å API User Service.

## ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è

### –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
- –ò–º—è
- –§–∞–º–∏–ª–∏—è
- Email (–º–æ–∂–Ω–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–∏—Ç—å)
- –¢–µ–ª–µ—Ñ–æ–Ω ‚ùå (–ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ API)

### –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
- –ò–º—è
- –§–∞–º–∏–ª–∏—è
- Email (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è) ‚úÖ
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚úÖ
- –ü–æ–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –ú—É–∂—Å–∫–æ–π, –ñ–µ–Ω—Å–∫–∏–π, –î—Ä—É–≥–æ–π) ‚úÖ

## üìã –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ "–¢–µ–ª–µ—Ñ–æ–Ω"
–ë—ç–∫–µ–Ω–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–µ `phone` –≤ User entity.

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è"
- –¢–∏–ø: `date` input
- –§–æ—Ä–º–∞—Ç: YYYY-MM-DD
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ ISO 8601 —Ñ–æ—Ä–º–∞—Ç–µ
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–ü–æ–ª"
- –¢–∏–ø: `select` dropdown
- –í–∞—Ä–∏–∞–Ω—Ç—ã: –ú—É–∂—Å–∫–æ–π (male), –ñ–µ–Ω—Å–∫–∏–π (female), –î—Ä—É–≥–æ–π (other)
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å "–ù–µ —É–∫–∞–∑–∞–Ω"

### 4. Email —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `disabled`
- Email –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å
- –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API –∑–∞–ø—Ä–æ—Å

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `PUT /users/:id`

**Body (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):**
```typescript
{
  nameFirst: string;      // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  nameLast: string;       // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  birthDate?: string;     // ISO 8601 —Ñ–æ—Ä–º–∞—Ç, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  gender?: 'male' | 'female' | 'other';  // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
}
```

**–ü—Ä–∏–º–µ—Ä:**
```json
{
  "nameFirst": "–ò–≤–∞–Ω",
  "nameLast": "–ò–≤–∞–Ω–æ–≤",
  "birthDate": "1990-01-15T00:00:00.000Z",
  "gender": "male"
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è (Zod)

```typescript
const schema = z.object({
  firstName: z.string().min(2, "–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞"),
  lastName: z.string().min(2, "–§–∞–º–∏–ª–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞"),
  email: z.string().email("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email"),
  birthDate: z.string().optional(),
  gender: z.enum(["male", "female", "other", ""]).optional(),
});
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```typescript
const updateData: any = {
  nameFirst: event.data.firstName,
  nameLast: event.data.lastName,
};

// –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞
if (event.data.birthDate) {
  updateData.birthDate = new Date(event.data.birthDate).toISOString();
}

// –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω
if (event.data.gender && event.data.gender !== "") {
  updateData.gender = event.data.gender;
}
```

## üé® UI –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
```vue
<UFormField label="–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" name="birthDate">
  <UInput
    v-model="state.birthDate"
    type="date"
    size="xl"
    color="secondary"
    variant="outline"
    class="w-full"
  />
</UFormField>
```

### –ü–æ–ª
```vue
<UFormField label="–ü–æ–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" name="gender">
  <select
    v-model="state.gender"
    class="w-full px-3 py-2.5 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
  >
    <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
    <option value="male">–ú—É–∂—Å–∫–æ–π</option>
    <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
    <option value="other">–î—Ä—É–≥–æ–π</option>
  </select>
</UFormField>
```

### Email (disabled)
```vue
<UFormField label="Email" name="email">
  <UInput
    v-model="state.email"
    type="email"
    size="xl"
    color="secondary"
    variant="outline"
    class="w-full"
    disabled
  />
</UFormField>
```

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏:**
   - –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è
   - –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–º–∏–ª–∏—é
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ö–µ–¥–µ—Ä–µ

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è:**
   - –í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å

3. **–í—ã–±–æ—Ä –ø–æ–ª–∞:**
   - –í—ã–±—Ä–∞—Ç—å "–ú—É–∂—Å–∫–æ–π"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è

4. **Email –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å:**
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ø–æ–ª–µ email
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª–µ disabled

5. **–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
   - –û—Å—Ç–∞–≤–∏—Ç—å –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –ø—É—Å—Ç–æ–π
   - –û—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª "–ù–µ —É–∫–∞–∑–∞–Ω"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ

## üìä –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—ç–∫–µ–Ω–¥–æ–º

### User Entity (–±—ç–∫–µ–Ω–¥)

```typescript
@Entity('users')
export class User {
  @PrimaryGeneratedColumn()
  id: number;

  @Column({ unique: true })
  email: string;

  @Column()
  password: string;

  @Column({ name: 'name_first' })
  nameFirst: string;

  @Column({ name: 'name_last' })
  nameLast: string;

  @Column({ type: 'date', nullable: true, name: 'birth_date' })
  birthDate: Date;

  @Column({ type: 'enum', enum: ['male', 'female', 'other'], nullable: true })
  gender: string;

  @Column({ default: 'user' })
  role: string;
}
```

### Update User DTO (–±—ç–∫–µ–Ω–¥)

```typescript
export class UpdateUserDto {
  @IsOptional()
  @IsString()
  @MinLength(2)
  nameFirst?: string;

  @IsOptional()
  @IsString()
  @MinLength(2)
  nameLast?: string;

  @IsOptional()
  @IsDateString()
  birthDate?: Date;

  @IsOptional()
  @IsEnum(['male', 'female', 'other'])
  gender?: string;
}
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫!

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 31 –æ–∫—Ç—è–±—Ä—è 2025
