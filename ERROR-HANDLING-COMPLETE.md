#  Error Handling - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `frontend/app/error.vue`
–ö—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üé® –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞
- üîç –†–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–¥–æ–≤ (404, 401, 403, 500, 503)
- üîÑ –ö–Ω–æ–ø–∫–∏: "–ù–∞–∑–∞–¥", "–ù–∞ –≥–ª–∞–≤–Ω—É—é", "–û–±–Ω–æ–≤–∏—Ç—å"
- üõ†Ô∏è –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ dev —Ä–µ–∂–∏–º–µ (—Å –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–º)

### 2. `frontend/app/components/ErrorBoundary.vue`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫ –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–ú–µ—Ç–æ–¥—ã:**
- `retry()` - –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
- `reset()` - –°–±—Ä–æ—Å –æ—à–∏–±–∫–∏
- –ö–∞—Å—Ç–æ–º–Ω—ã–π fallback UI —á–µ—Ä–µ–∑ slot

### 3. `frontend/app/composables/useApi.ts` (—É–ª—É—á—à–µ–Ω)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API.

**–ù–æ–≤–æ–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º (`silent: true`)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (`ApiError`)
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞

### 4. `frontend/app/composables/useErrorHandler.ts` (–Ω–æ–≤—ã–π)
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.

**–ú–µ—Ç–æ–¥—ã:**
- `handleError()` - –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
- `handleSuccess()` - –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
- `handleWarning()` - –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- `handleInfo()` - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- `withErrorHandling()` - –û–±—ë—Ä—Ç–∫–∞ –¥–ª—è async —Ñ—É–Ω–∫—Ü–∏–π

### 5. `frontend/app/plugins/error-handler.client.ts` (–Ω–æ–≤—ã–π)
–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫.

**–ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç:**
- –û—à–∏–±–∫–∏ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã
- –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–∫—Ä–∏–ø—Ç—ã)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞—â–∏—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```vue
<template>
  <ErrorBoundary :on-retry="loadData">
    <MyComponent />
  </ErrorBoundary>
</template>
```

### –ü—Ä–∏–º–µ—Ä 2: API –∑–∞–ø—Ä–æ—Å —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

```typescript
const { apiFetch } = useApi()

// –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º toast
const data = await apiFetch('/products')

// –ë–µ–∑ toast (—Ç–∏—Ö–∏–π —Ä–µ–∂–∏–º)
const data = await apiFetch('/products', { silent: true })
```

### –ü—Ä–∏–º–µ—Ä 3: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```typescript
const { handleError, handleSuccess } = useErrorHandler()

try {
  await someOperation()
  handleSuccess('–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞')
} catch (error) {
  handleError(error, '–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é')
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```typescript
const { withErrorHandling } = useErrorHandler()

const result = await withErrorHandling(
  () => apiFetch('/products'),
  {
    errorMessage: '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã',
    successMessage: '–¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã',
  }
)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°—Ç—Ä–∞–Ω–∏—Ü–∞ 404
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/non-existent`
2. –î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –∫—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 404

### –¢–µ—Å—Ç 2: ErrorBoundary
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –æ—à–∏–±–∫–æ–π
2. –û–±–µ—Ä–Ω–∏—Ç–µ –≤ `<ErrorBoundary>`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ fallback UI

### –¢–µ—Å—Ç 3: API –æ—à–∏–±–∫–∏
1. –û—Ç–∫–ª—é—á–∏—Ç–µ –±—ç–∫–µ–Ω–¥
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
3. –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è toast —Å –æ—à–∏–±–∫–æ–π

### –¢–µ—Å—Ç 4: –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `silent: true`
2. –û—à–∏–±–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å toast
3. –ù–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ console.error

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–õ—É—á—à–∏–π UX** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞  
‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –æ—à–∏–±–∫–∏ –Ω–µ –∫—Ä–∞—à–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è** - –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å  
‚úÖ **–û—Ç–ª–∞–¥–∫–∞** - –¥–µ—Ç–∞–ª–∏ –≤ dev —Ä–µ–∂–∏–º–µ  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≥–æ—Ç–æ–≤–æ –∫ Sentry/LogRocket  

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

–î–ª—è production –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Sentry:

```typescript
// plugins/error-handler.client.ts
import * as Sentry from '@sentry/vue'

if (process.env.NODE_ENV === 'production') {
  Sentry.init({
    dsn: 'YOUR_SENTRY_DSN',
    // ...
  })
  
  nuxtApp.vueApp.config.errorHandler = (error) => {
    Sentry.captureException(error)
  }
}
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `frontend/ERROR-HANDLING.md`

## –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

2025-11-01

---

**–ó–∞–¥–∞—á–∞ 7.3 –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é!** ‚úÖ
