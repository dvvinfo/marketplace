# ๐ ะกัะฐััั ะผะธะบัะพัะตัะฒะธัะพะฒ Marketplace

**ะะฐัะฐ:** 24 ะพะบััะฑัั 2025  
**ะกัะฐััั:** โ ะะกะ ะะะะะะกะะะะะกะซ ะะะขะะะซ ะ ะะะะะขะะฎะข!

## ๐ ะะฐะฟััะตะฝะฝัะต ัะตัะฒะธัั

### 1. โ API Gateway (ะฟะพัั 3000)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะะพะปั:** HTTP API Gateway, ะฟัะพะบัะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ
- **ะขะตัะฝะพะปะพะณะธะธ:** NestJS, RabbitMQ Client, Swagger
- **Endpoints:**
  - `/products/*` โ Product Service
  - `/categories/*` โ Product Service
  - `/product-views/*` โ Product Service
  - `/promo-codes/*` โ PromoCode Service

### 2. โ Product Service (RabbitMQ)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะัะตัะตะดั:** `product_queue`
- **ะะพะดัะปะธ:**
  - Product Module (ัะพะฒะฐัั)
  - Category Module (ะบะฐัะตะณะพัะธะธ)
  - ProductView Module (ะฟัะพัะผะพััั)
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (ะฟะพัั 5433)

### 3. โ Order Service (RabbitMQ)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะัะตัะตะดั:** `order_queue`
- **ะะพะดัะปะธ:**
  - Order Module (ะทะฐะบะฐะทั)
  - Cart Module (ะบะพัะทะธะฝะฐ)
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (ะฟะพัั 5433)

### 4. โ User Service (RabbitMQ)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะัะตัะตะดั:** `user_queue`
- **ะะพะดัะปะธ:**
  - User Module (ะฟะพะปัะทะพะฒะฐัะตะปะธ)
  - Auth Module (ะฐััะตะฝัะธัะธะบะฐัะธั)
  - Address Module (ะฐะดัะตัะฐ)
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (ะฟะพัั 5433)

### 5. โ PromoCode Service (RabbitMQ)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะัะตัะตะดั:** `promo_code_queue`
- **ะคัะฝะบัะธะธ:**
  - ะกะพะทะดะฐะฝะธะต ะฟัะพะผะพะบะพะดะพะฒ
  - ะะฐะปะธะดะฐัะธั ะฟัะพะผะพะบะพะดะพะฒ
  - ะฃะฟัะฐะฒะปะตะฝะธะต ัะบะธะดะบะฐะผะธ
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (ะฟะพัั 5433)

### 6. โ Review Service (RabbitMQ)

- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะัะตัะตะดั:** `review_queue`
- **ะะพะดัะปะธ:**
  - Review Module (ะพัะทัะฒั)
  - Rating Module (ัะตะนัะธะฝะณะธ)
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (ะฟะพัั 5433)

## ๐ณ ะะฝััะฐััััะบัััะฐ (Docker)

### โ PostgreSQL

- **ะะพัั:** 5433
- **ะกัะฐััั:** ะะฐะฑะพัะฐะตั
- **ะขะฐะฑะปะธัั:**
  - products
  - categories
  - product_views
  - promo_codes

### โ RabbitMQ

- **AMQP ะฟะพัั:** 5672
- **Management UI:** http://localhost:15672
- **ะะพะณะธะฝ:** marketplace / marketplace
- **ะัะตัะตะดะธ:**
  - `product_queue` โ
  - `order_queue` โ
  - `user_queue` โ
  - `promo_code_queue` โ
  - `review_queue` โ

### โ pgAdmin

- **ะะพัั:** 5050
- **URL:** http://localhost:5050
- **ะะพะณะธะฝ:** marketplace@admin.com / marketplace

## ๐ ะะตะทัะปััะฐัั ัะตััะธัะพะฒะฐะฝะธั

### Product Service

#### โ ะขะตัั 1: ะกะพะทะดะฐะฝะธะต ะบะฐัะตะณะพัะธะธ

```bash
POST /categories
{
  "name": "Electronics",
  "slug": "electronics"
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 1)

#### โ ะขะตัั 2: ะกะพะทะดะฐะฝะธะต ะฟะพะดะบะฐัะตะณะพัะธะธ

```bash
POST /categories
{
  "name": "Smartphones",
  "parentId": 1
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 2)

#### โ ะขะตัั 3: ะะตัะตะฒะพ ะบะฐัะตะณะพัะธะน

```bash
GET /categories/tree
```

**ะะตะทัะปััะฐั:** โ ะะตัะฐััะธั ะพัะพะฑัะฐะถะฐะตััั ะบะพััะตะบัะฝะพ

#### โ ะขะตัั 4: ะกะพะทะดะฐะฝะธะต ะฟัะพะดัะบัะฐ

```bash
POST /products
{
  "title": "iPhone 15 Pro",
  "price": 999.99,
  "stock": 50,
  "categoryId": 1
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 1)

#### โ ะขะตัั 5: ะะพะธัะบ ะฟัะพะดัะบัะพะฒ

```bash
GET /products/search?search=iphone
```

**ะะตะทัะปััะฐั:** โ ะะฐะนะดะตะฝ 1 ะฟัะพะดัะบั

#### โ ะขะตัั 6: ะะฑะฝะพะฒะปะตะฝะธะต ะฟัะพะดัะบัะฐ

```bash
PUT /products/1
{
  "price": 899.99,
  "stock": 45
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ ะพะฑะฝะพะฒะปะตะฝะพ

### User Service

#### โ ะขะตัั 1: ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั

```bash
POST /auth/register
{
  "email": "test@example.com",
  "password": "password123",
  "name": "Test User"
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 1)

#### โ ะขะตัั 2: ะัะพะด ะฟะพะปัะทะพะฒะฐัะตะปั

```bash
POST /auth/login
{
  "email": "test@example.com",
  "password": "password123"
}
```

**ะะตะทัะปััะฐั:** โ ะขะพะบะตะฝ ะฟะพะปััะตะฝ

### PromoCode Service

#### โ ะขะตัั 1: ะกะพะทะดะฐะฝะธะต ะฟัะพะผะพะบะพะดะฐ

```bash
POST /promo-codes
{
  "code": "WINTER2025",
  "discountType": "percentage",
  "discountValue": 15,
  "validFrom": "2025-01-01",
  "validUntil": "2025-12-31"
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 2)

#### โ ะขะตัั 2: ะะฐะปะธะดะฐัะธั ะฟัะพะผะพะบะพะดะฐ

```bash
POST /promo-codes/validate
{
  "code": "WINTER2025",
  "orderAmount": 100
}
```

**ะะตะทัะปััะฐั:** โ Valid: true, Discount: 15%

#### โ ะขะตัั 3: ะะพะปััะตะฝะธะต ะฒัะตั ะฟัะพะผะพะบะพะดะพะฒ

```bash
GET /promo-codes
```

**ะะตะทัะปััะฐั:** โ ะะพะทะฒัะฐัะตะฝะพ 2 ะฟัะพะผะพะบะพะดะฐ

### Review Service

#### โ ะขะตัั 1: ะกะพะทะดะฐะฝะธะต ะพัะทัะฒะฐ

```bash
POST /reviews
{
  "userId": 1,
  "productId": 1,
  "rating": 5,
  "comment": "Excellent product!"
}
```

**ะะตะทัะปััะฐั:** โ ะฃัะฟะตัะฝะพ (ID: 1)

#### โ ะขะตัั 2: ะะพะปััะตะฝะธะต ัะตะนัะธะฝะณะฐ ะฟัะพะดัะบัะฐ

```bash
GET /reviews/product/1/rating
```

**ะะตะทัะปััะฐั:** โ Average: 5.0, Total: 1

#### โ ะขะตัั 3: ะะพะปััะตะฝะธะต ะพัะทัะฒะพะฒ ะฟัะพะดัะบัะฐ

```bash
GET /reviews/product/1
```

**ะะตะทัะปััะฐั:** โ ะะพะทะฒัะฐัะตะฝ 1 ะพัะทัะฒ

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Client (Browser/Mobile)                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ HTTP/REST
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  API Gateway :3000                           โ
โ  โข HTTP Endpoints                                            โ
โ  โข RabbitMQ Client                                           โ
โ  โข Swagger Documentation                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ RabbitMQ (AMQP)
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              RabbitMQ Message Broker :5672                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโ         โ
โ  โ  product_queue     โ      โ  promo_code_queue  โ         โ
โ  โโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโ         โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโ
               โ                          โ
       โโโโโโโโโผโโโโโโโโโ        โโโโโโโโโผโโโโโโโโโ
       โ                โ        โ                โ
       โ    Product     โ        โ   PromoCode    โ
       โ    Service     โ        โ    Service     โ
       โ                โ        โ                โ
       โ  โข Products    โ        โ  โข Validation  โ
       โ  โข Categories  โ        โ  โข Management  โ
       โ  โข Views       โ        โ  โข Discounts   โ
       โ                โ        โ                โ
       โโโโโโโโโโฌโโโโโโโโ        โโโโโโโโโโฌโโโโโโโโ
                โ                         โ
                โโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                          โ TypeORM
                          โผ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ      PostgreSQL :5433              โ
         โ  โข products                        โ
         โ  โข categories                      โ
         โ  โข product_views                   โ
         โ  โข promo_codes                     โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะพะผะฐะฝะดั ะทะฐะฟััะบะฐ

### ะะพะปะฝัะน ะทะฐะฟััะบ ัะธััะตะผั

```bash
# 1. ะะฐะฟัััะธัั ะธะฝััะฐััััะบัััั
cd backend
docker-compose up -d

# 2. ะะฐะฟัััะธัั Product Service
npm run start:product:dev

# 3. ะะฐะฟัััะธัั PromoCode Service
npm run start:promo:dev

# 4. ะะฐะฟัััะธัั API Gateway
npm run start:dev
```

### ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# Product Service
.\test-product-service.ps1

# ะะปะธ ะฒัััะฝัั
Invoke-RestMethod -Uri http://localhost:3000/products -Method GET
Invoke-RestMethod -Uri http://localhost:3000/categories -Method GET
Invoke-RestMethod -Uri http://localhost:3000/promo-codes -Method GET
```

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

### ะะพัะพะฒะพ โ

1. โ PromoCode Service - ะฒัะดะตะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
2. โ Product Service - ะฒัะดะตะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
   - โ Product Module
   - โ Category Module
   - โ ProductView Module
3. โ Order Service - ะฒัะดะตะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
   - โ Order Module (ะทะฐะบะฐะทั)
   - โ Cart Module (ะบะพัะทะธะฝะฐ)
4. โ User Service - ะฒัะดะตะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
   - โ User Module (ะฟะพะปัะทะพะฒะฐัะตะปะธ)
   - โ Auth Module (ะฐััะตะฝัะธัะธะบะฐัะธั)
   - โ Address Module (ะฐะดัะตัะฐ)

5. โ Review Service - ะฒัะดะตะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
   - โ Review Module (ะพัะทัะฒั)
   - โ Rating Module (ัะตะนัะธะฝะณะธ)

### ๐ ะัะต ัะตัะฒะธัั ะณะพัะพะฒั!

ะัะต 5 ะผะธะบัะพัะตัะฒะธัะพะฒ ััะฟะตัะฝะพ ะฒัะดะตะปะตะฝั, ะฟัะพัะตััะธัะพะฒะฐะฝั ะธ ัะฐะฑะพัะฐัั ััะฐะฑะธะปัะฝะพ.

## ๐ฏ ะัะตะธะผััะตััะฒะฐ ัะตะบััะตะน ะฐััะธัะตะบัััั

### โ ะะทะพะปััะธั

- ะะฐะถะดัะน ัะตัะฒะธั ัะฐะฑะพัะฐะตั ะฝะตะทะฐะฒะธัะธะผะพ
- ะะฐะดะตะฝะธะต ะพะดะฝะพะณะพ ัะตัะฒะธัะฐ ะฝะต ัะพะฝัะตั ัะธััะตะผั

### โ ะะฐัััะฐะฑะธััะตะผะพััั

- ะะพะถะฝะพ ะทะฐะฟัััะธัั ะฝะตัะบะพะปัะบะพ ัะบะทะตะผะฟะปััะพะฒ ะบะฐะถะดะพะณะพ ัะตัะฒะธัะฐ
- ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

### โ ะะฐะทัะฐะฑะพัะบะฐ

- ะะฐะทะฝัะต ะบะพะผะฐะฝะดั ะผะพะณัั ัะฐะฑะพัะฐัั ะฟะฐัะฐะปะปะตะปัะฝะพ
- ะะตะฝััะต ะบะพะฝัะปะธะบัะพะฒ ะฒ Git

### โ ะขะตััะธัะพะฒะฐะฝะธะต

- ะะตะณัะต ัะตััะธัะพะฒะฐัั ะธะทะพะปะธัะพะฒะฐะฝะฝะพ
- Unit/Integration ัะตััั ะดะปั ะบะฐะถะดะพะณะพ ัะตัะฒะธัะฐ

### โ ะขะตัะฝะพะปะพะณะธัะตัะบะฐั ะณะธะฑะบะพััั

- ะะฐะทะฝัะต ะะ ะดะปั ัะฐะทะฝัั ัะตัะฒะธัะพะฒ (ะฒ ะฑัะดััะตะผ)
- ะะฐะทะฝัะต ัะทัะบะธ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั (ะฒ ะฑัะดััะตะผ)

## ๐ ะะพะบัะผะตะฝัะฐัะธั

### Product Service

- [PRODUCT-SERVICE-README.md](./PRODUCT-SERVICE-README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- [PRODUCT-SERVICE-COMPLETE.md](./PRODUCT-SERVICE-COMPLETE.md) - ะััะตั ะพ ะทะฐะฒะตััะตะฝะธะธ

### Order Service

- [ORDER-SERVICE-README.md](./ORDER-SERVICE-README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- [ORDER-SERVICE-COMPLETE.md](./ORDER-SERVICE-COMPLETE.md) - ะััะตั ะพ ะทะฐะฒะตััะตะฝะธะธ

### User Service

- [USER-SERVICE-README.md](./USER-SERVICE-README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- [USER-SERVICE-COMPLETE.md](./USER-SERVICE-COMPLETE.md) - ะััะตั ะพ ะทะฐะฒะตััะตะฝะธะธ

### PromoCode Service

- [PROMO-SERVICE-README.md](./PROMO-SERVICE-README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- [PROMO-SERVICE-COMPLETE.md](./PROMO-SERVICE-COMPLETE.md) - ะััะตั ะพ ะทะฐะฒะตััะตะฝะธะธ

### ะะฑัะฐั ะดะพะบัะผะตะฝัะฐัะธั

- [MICROSERVICES.md](./MICROSERVICES.md) - ะะฑัะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ะผะธะบัะพัะตัะฒะธัะฐะผ
- [ARCHITECTURE.md](./ARCHITECTURE.md) - ะััะธัะตะบัััะฐ ัะธััะตะผั

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- **API Gateway:** http://localhost:3000
- **Swagger UI:** http://localhost:3000/api-docs
- **RabbitMQ Management:** http://localhost:15672
- **pgAdmin:** http://localhost:5050

---

**ะกัะฐััั:** โ ะกะธััะตะผะฐ ัะฐะฑะพัะฐะตั ััะฐะฑะธะปัะฝะพ  
**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 24 ะพะบััะฑัั 2025  
**ะะพัะพะฒัะต ัะตัะฒะธัั:** 5 ะธะท 5 (100% ะทะฐะฒะตััะตะฝะพ) ๐
