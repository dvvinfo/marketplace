# –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
User Service (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)
‚îú‚îÄ‚îÄ DTO: ChangePasswordDto
‚îú‚îÄ‚îÄ UserService.changePassword() - –ª–æ–≥–∏–∫–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
‚îú‚îÄ‚îÄ AuthService.changePassword() - –æ–±–µ—Ä—Ç–∫–∞
‚îî‚îÄ‚îÄ AuthController - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ RabbitMQ

API Gateway
‚îú‚îÄ‚îÄ POST /auth/change-password - HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç
‚îî‚îÄ‚îÄ AuthService.changePassword() - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ RabbitMQ
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
cd backend
npm run start:dev
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:**
```bash
.\TEST-CHANGE-PASSWORD.bat
```

**–†—É—á–Ω–æ–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ REST Client:**
–û—Ç–∫—Ä—ã—Ç—å `test-change-password.http` –≤ VS Code

### 3. API

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /auth/change-password`

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <JWT_TOKEN>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "oldPassword": "—Ç–µ–∫—É—â–∏–π_–ø–∞—Ä–æ–ª—å",
  "newPassword": "–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```json
{
  "message": "Password changed successfully"
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞  
‚úÖ –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è (bcrypt)  
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è: 6 —Å–∏–º–≤–æ–ª–æ–≤  

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **400** - –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å
- **401** - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–Ω–µ—Ç/–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω)
- **404** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

## –§–∞–π–ª—ã

### –ù–æ–≤—ã–µ:
- `src/auth/dto/change-password.dto.ts` - DTO
- `test-change-password.http` - HTTP —Ç–µ—Å—Ç—ã
- `test-change-password.ps1` - –∞–≤—Ç–æ—Ç–µ—Å—Ç
- `TEST-CHANGE-PASSWORD.bat` - –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ:
- `src/auth/auth.controller.ts` - –¥–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- `src/auth/auth.service.ts` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥
- `src/user/user.service.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è

## –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
