# Загрузка изображений для продуктов

## Описание
Реализована загрузка изображений для продуктов через `multipart/form-data`.

## Конфигурация

### Настройки загрузки (multer.config.ts)
- **Папка хранения**: `./uploads/products/images`
- **Формат имени файла**: `image-[timestamp]-[random].[ext]`
- **Разрешенные форматы**: jpg, jpeg, png, gif, webp
- **Максимальный размер**: 5MB

## Использование

### 1. Создание продукта с изображением

**Endpoint**: `POST /products`

**Content-Type**: `multipart/form-data`

**Поля формы**:
- `title` (обязательно) - название продукта
- `description` (опционально) - описание
- `price` (обязательно) - цена
- `discountPrice` (опционально) - цена со скидкой
- `stock` (опционально) - количество на складе
- `category` (опционально) - категория
- `image` (опционально) - файл изображения

**Пример в Postman**:
1. Выберите метод POST
2. URL: `http://localhost:3000/products`
3. В разделе Body выберите `form-data`
4. Добавьте поля:
   - `title`: text -> "Laptop"
   - `price`: text -> "1299.99"
   - `image`: file -> выберите файл изображения

### 2. Доступ к загруженным изображениям

Изображения доступны по URL:
```
http://localhost:3000/uploads/products/images/[filename]
```

Пример:
```
http://localhost:3000/uploads/products/images/image-1704123456789-123456789.jpg
```

### 3. Пример ответа

```json
{
  "id": 1,
  "title": "Laptop",
  "description": "High performance laptop",
  "price": 1299.99,
  "discountPrice": 999.99,
  "stock": 50,
  "category": "Electronics",
  "image": "image-1704123456789-123456789.jpg",
  "createdAt": "2025-01-10T12:00:00.000Z",
  "updatedAt": "2025-01-10T12:00:00.000Z"
}
```

## Валидация

- Только изображения (jpg, jpeg, png, gif, webp)
- Максимальный размер файла: 5MB
- При превышении лимитов возвращается ошибка 400

## Примечания

- Изображение опционально - можно создать продукт без изображения
- При создании продукта без изображения, поле `image` будет `null`
- Имя файла генерируется автоматически для избежания конфликтов
